# Copyright (c) 2024-ä¸çŸ¥é“, Vincent.
# https://github.com/Vincent-520/Scripts/blob/main/Surge/Vincent's Multicountry Group.conf
# Last updated: 2024-03-27

[General]
# > æµ‹è¯•è¶…æ—¶
test-timeout = 3
# UDP ä¼˜å…ˆçº§
udp-priority = false
# > å›½å†… æµ‹è¯• URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.gstatic.com/generate_204
# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://raw.githubusercontent.com/NobyDa/geoip/release/Private-GeoIP-CN.mmdb
# > å®Œæ•´çš„ IPv6 æ”¯æŒ
ipv6 = false
# å…è®¸ IPv6 é€šè¿‡ Surge VIFã€‚å½“å¸Œæœ› Surge å¤„ç†è¿æ¥åˆ° IPv6 åœ°å€çš„åŸå§‹ TCP è¿æ¥æ—¶éå¸¸æœ‰ç”¨ã€‚å¯é€‰é¡¹ï¼štrueï¼Œfalseï¼Œautoï¼Œalways
ipv6-vif = auto
# âš ï¸ éšè—çŠ¶æ€æ ä¸Šçš„VPNå›¾æ ‡ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿé”™è¯¯ï¼Œå¼€å¯IP v6é€‰é¡¹æ—¶å¤±æ•ˆ
hide-vpn-icon = true
# > DNS æœåŠ¡å™¨
dns-server = 223.5.5.5, 114.114.114.114, 119.29.29.29, 162.159.195.1, system
# DoH æœåŠ¡å™¨
encrypted-dns-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query
# ä½¿åŠ å¯† DNS è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
encrypted-dns-follow-outbound-mode = false
# > DOH çš„æœåŠ¡ç«¯è¯ä¹¦éªŒè¯è·³è¿‡
doh-skip-cert-verification = false
# å¯¹ä½¿ç”¨ä»£ç†çš„è¯·æ±‚å¼ºåˆ¶ä½¿ç”¨æœ¬åœ° DNS æ˜ å°„ç»“æœï¼Œä»…å¯¹ä½¿ç”¨äº† IP åœ°å€çš„æœ¬åœ°æ˜ å°„è®°å½•ç”Ÿæ•ˆã€‚
use-local-host-item-for-proxy = true
# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# è·³è¿‡ä»£ç†(å·²æ³¨é‡Š)Surge 5.8.0é»˜è®¤VIF Only
# skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8,172.16.0.0/12,100.64.0.0/10, 17.0.0.0/8, *.local, *.crashlytics.com, seed-sequoia.siri.apple.com, localhost, sequoia.apple.com, www.abchina.com.cn
# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
allow-wifi-access = false
# HTTP æœåŠ¡ç«¯å£
wifi-access-http-port = 6528
# SOCKS5 æœåŠ¡ç«¯å£
wifi-access-socks5-port = 6582
# å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®
allow-hotspot-access = true
# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†ï¼Œèœ‚çªæ•°æ®æµé‡è¶³å¤Ÿæ—¶å¯ä»¥å¼€å¯
wifi-assist = true
# æ··åˆç½‘ç»œï¼Œè¯·ä»…å½“ä½¿ç”¨ä¸é™é‡çš„æ•°æ®æµé‡å¥—é¤æ—¶å¼€å¯
all-hybrid = false
# > è¿œç¨‹æ§åˆ¶å™¨
external-controller-access = Vincent@127.0.0.1:6170
http-api = Vincent@127.0.0.1:6171
http-api-tls = false
http-api-web-dashboard = true
# > æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# > ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# > æ—¥å¿—çº§åˆ«
loglevel = notify
# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# > ç¦ç”¨ GEOIP è‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = true
# > Surge VIF
# Surge VIF åªèƒ½å¤„ç† TCP å’Œ UDP åè®®ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»•è¿‡ç‰¹å®šçš„ IP èŒƒå›´ï¼Œå…è®¸æ‰€æœ‰æµé‡é€šè¿‡ã€‚
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge VIF æ¥å£ä¼šå£°æ˜è‡ªå·±æ˜¯é»˜è®¤è·¯ç”±ã€‚ä½†æ˜¯ï¼Œç”±äº Wi-Fi æ¥å£çš„è·¯ç”±è¾ƒå°ï¼Œæœ‰äº›æµé‡å¯èƒ½ä¸ä¼šé€šè¿‡ Surge VIF æ¥å£ã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯ä»¥æ·»åŠ ä¸€æ¡è¾ƒå°çš„è·¯ç”±ã€‚
# tun-included-routes = 192.168.1.12/32
# > æ§åˆ¶å½“ UDP æµé‡è¢«åŒ¹é…åˆ°ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ç­–ç•¥æ—¶çš„è¡Œä¸º
udp-policy-not-supported-behaviour = direct

[Proxy Group]
PROXY = select, policy-path=ä½ çš„è®¢é˜…ğŸ’–, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0
Global = select, US, CA, HK, TW, JP, KR, SG, FINAL, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
GlobalMedia = select, US, CA, HK, TW, JP, KR, SG, FINAL, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
Netflix = select, US, CA, HK, TW, JP, KR, SG, FINAL, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
Disney+ = select, US, CA, HK, TW, JP, KR, SG, FINAL, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
HBO = select, US, HK, TW, DIRECT, FINAL
YouTube = select, US, HK, TW, JP, KR, SG, FINAL, DIRECT
Spotify = select, DIRECT, US, HK, TW, JP, KR, SG, FINAL
The AIs = select, DIRECT, US, HK, TW, JP, KR, SG, FINAL
Telegram = select, US, HK, TW, JP, KR, SG, FINAL, DIRECT
Twitter = select, US, HK, TW, JP, KR, SG, FINAL, DIRECT
Speedtest = select, DIRECT, US, HK, TW, JP, KR, SG, FINAL
PayPal = select, US, HK, TW, JP, KR, SG, FINAL, DIRECT
TestFlight = select, DIRECT, US, HK, TW, JP, KR, SG, FINAL
Apple = select, DIRECT, US, HK, TW, JP, KR, SG, FINAL
Google = select, US, CA, HK, TW, JP, KR, SG, FINAL, DIRECT, no-alert=0, hidden=0, include-all-proxies=0
Microsoft = select, DIRECT, US, CA, HK, FINAL, no-alert=0, hidden=0, include-all-proxies=0
TikTok = select, US, TW, JP, KR, SG, FINAL, DIRECT
æŠ–éŸ³ = select, US, CA, UK, HK, TW, JP, KR, SG, FINAL, DIRECT
Bilibili = select, DIRECT, HK, TW, FINAL
å°çº¢ä¹¦ = select, US, CA, UK, HK, TW, JP, KR, SG, FINAL, DIRECT
Weibo = select, DIRECT, US, CA, UK, HK, TW, JP, KR, SG, FINAL, no-alert=0, hidden=0, include-all-proxies=0
Mainland = select, DIRECT, FINAL
Advertising = select, REJECT, DIRECT, hidden=1, no-alert=0, include-all-proxies=0
FINAL = select, PROXY, AutoHK, DIRECT
HK = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡­ğŸ‡°|æ¸¯|è™šé€š|Trust|HK|Hong))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
TW = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°|TW|Tai))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|Trust|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
JP = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|JP|Japan))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
KR = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©|éŸ“|é¦–å°”|KR|Korea))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
SG = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|SG|Singapore))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
US = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|Trust|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
CA = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¨ğŸ‡¦|åŠ æ‹¿å¤§|CA|Canada))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
AU = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¦ğŸ‡º|æ¾³å¤§|AU|Australia))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
UK = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡¬ğŸ‡§|è‹±|ä¼¦æ•¦|çˆ±å°”å…°|UK|United Kingdom))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
FR = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡«ğŸ‡·|æ³•|FR|France))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
DE = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡©ğŸ‡ª|å¾·|DE|Germany))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|GAME|Trust|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
RU = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡·ğŸ‡º|ä¿„|è«æ–¯ç§‘|æ–°è¥¿ä¼¯åˆ©äºš|ĞĞ¾Ğ²Ğ¾ÑĞ¸Ğ±Ğ¸ÌÑ€ÑĞºĞ°Ñ|Moscow|RU|Russia))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|Trust|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
IN = select, update-interval=0, policy-regex-filter=^(?=.*((?i)ğŸ‡®ğŸ‡³|å°|ç­åŠ ç½—å°”|å­Ÿä¹°|Mumbai|IN|India))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|æ•™è‚²|ä¹…è™š|Trust|GAME|IPV6)).*$, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY

[Rule]
# Advertising å¹¿å‘Š
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Advertising/Advertising_All_No_Resolve.list,Advertising
# Privacy éšç§
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Privacy/Privacy_All_No_Resolve.list,Advertising
# Hijacking è¿è¥å•†åŠ«æŒæˆ–æ¶æ„ç½‘ç«™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hijacking/Hijacking.list,Advertising
# > æµ·å¤–æµåª’ä½“
# Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix
# Disney+
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Disney+
# HBO
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/HBO/HBO.list,HBO
# YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
# Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify
# TikTok
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok
# > æµ·å¤–æµåª’ä½“æ€»è§„åˆ™
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GlobalMedia/GlobalMedia.list,GlobalMedia
# > è½¯ä»¶&æœåŠ¡
# ä¸»æµç”Ÿæˆå¼AI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,The AIs
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Gemini/Gemini.list,The AIs
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Bing/Bing.list,The AIs
# Twitter
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Twitter
# Speedtest
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list,Speedtest
# PayPal
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,PayPal
# Telegram
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Telegram
# TestFlight
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TestFlight/TestFlight.list,TestFlight
# Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,Apple
# Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google
# Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft
# > å›½å†…åª’ä½“
# Bilibili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,Bilibili
# Weibo
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Weibo/Weibo.list,Weibo
# æŠ–éŸ³
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/DouYin/DouYin.list,æŠ–éŸ³
# å°çº¢ä¹¦
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/XiaoHongShu/XiaoHongShu.list,å°çº¢ä¹¦
# Mainland å›½å†…è®¿é—®
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,Mainland
# Global å…¨çƒåŠ é€Ÿ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list,Global
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list,Global
# ---IPåœ°å€è§„åˆ™---
# > GeoIP China
GEOIP,CN,DIRECT
# ---Finalè§„åˆ™---
# > å¿…é¡»å†™åœ¨æ‰€æœ‰å…¶ä»–ç±»å‹çš„è§„åˆ™ä¹‹å
# > å½“æŸæ¡è¯·æ±‚ä¸åŒ¹é…ä»¥ä¸Šä»»ä½•ä¸€æ¡è§„åˆ™ï¼Œåˆ™ä¸FINALè§„åˆ™åŒ¹é…
FINAL,FINAL,dns-failed

[Host]
# å¾®ä¿¡
# *.tencent.com = 119.29.29.29
# *.qq.com = 119.29.29.29
*.weixin.com = 119.29.29.29
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# Apple TestFlight
*testflight.apple.com = server:8.8.4.4

[MITM]
# > VIF å¯¹åŸå§‹ TCP æµé‡è¿›è¡Œè§£å¯†
skip-server-cert-verify = true
# > MITM ä½¿ç”¨ HTTP/2 åè®®
tcp-connection = true
h2 = true

[Script]
# æ˜¾ç¤ºè¿è¡Œæ—¶é—´åŠMitMç­‰åŠŸèƒ½å¼€å…³çŠ¶æ€
EDC_Surge-Panel = type=generic,script-path=https://raw.githubusercontent.com/erdongchanyo/Rules/main/Surge/Panels/EDC_Surge-Panel.js,argument=icon=crown.fill&color=#f6c970
# VPS Panel
Serverinfo = script-name=Serverinfo,update-interval=3600

[Panel]
# æ˜¾ç¤ºè¿è¡Œæ—¶é—´åŠMitMç­‰åŠŸèƒ½å¼€å…³çŠ¶æ€
EDC_Surge-Panel = script-name=EDC_Surge-Panel,update-interval=1
# VPS Panel
Serverinfo = script-name=Serverinfo,update-interval=3600